# Electronics Network

Данный проект представляет собой веб-приложение с API-интерфейсом и админ-панелью,
разработанное с использованием Django и Django REST Framework (DRF).
Приложение позволяет управлять иерархической структурой сети по продаже электроники, которая включает в себя заводы,
розничные сети и индивидуальных предпринимателей.

# Требования к реализации

1. Иерархическая структура сети:
    - Сеть состоит из трех уровней: завод (уровень 0), розничная сеть (уровень 1),
      индивидуальный предприниматель (уровень 1 или уровень 2).
    - Каждый элемент сети ссылается только на одного поставщика оборудования,
      и его уровень в иерархии вычисляется динамически (уровень предыдущего + 1).

2. Элементы сети:
    - Каждое звено сети обладает следующими атрибутами:
        - Название
        - Контакты:
            - email
            - страна
            - город
            - улица
            - номер дома
        - Продукты:
            - Название
            - Модель
            - Дата выхода продукта на рынок
        - Поставщик (предыдущий по иерархии объект сети)
        - Задолженность перед поставщиком (с денежной точностью до копеек)
        - Время создания (заполняется автоматически при создании)

    Для реализации связи один-ко-многим для продуктов создана отдельная модель, связанная по внешнему ключу с поставщиком.

3. Админ-панель:
    - Все созданные объекты отображаются в админ-панели для суперпользователя.
    - На странице объекта сети добавлена ссылка на «Поставщика».
    - В админ-панели реализован фильтр по названию города.
    - В админ-панели добавлено действие, очищающее задолженность перед поставщиком у выбранных объектов.
 
    Для последних 3-х пунктов создана группа модераторов с правами доступа на эти действия.

4. API-интерфейс с DRF:
    - Реализован CRUD для модели поставщика с запретом обновления через API поля «Задолженность перед поставщиком».
    - Добавлена возможность фильтрации объектов по определенной стране.
    - Для создания, просмотра и удаления поставщика используется один сериализатор, а для обновления - другой.

5. Права доступа:
    - Настроены права доступа к API так, что только активные сотрудники имеют доступ.
    - Для проверки активности создана модель CodePhrase, которая содержит компании и соответствующие им кодовые фразы
      для проверки в классе ограничений на контроллеры CRUD механизма пользователей прав доступа.
    - Только администраторы компаний, имеющие кодовые фразы, могут зарегистрировать сотрудников, 
которые потом смогут авторизоваться по JWT.

# Установка и запуск проекта

1. Склонируйте репозиторий:
   <br>По SSH: 
   ```git clone git@github.com:julyashap/electronics_network.git```

   <br>По HTTPS:
   ```git clone https://github.com/julyashap/electronics_network.git```
   
   <br>```cd electronics_network```

<br>2. Установите зависимости:
   ```poetry install```

<br>3. Выполните миграции:
   ```python manage.py migrate```

<br>4. Создайте суперпользователя для доступа к админ-панели:
   ```python manage.py csu```

<br>5. Запустите сервер разработки:
   ```python manage.py runserver```

<br>6. Откройте админ-панель в браузере по адресу:
   http://127.0.0.1:8000/admin/

# Использование API

- Для работы с API используйте инструменты как Postman или CURL.
- Документация на API доступна по адресу:
  http://127.0.0.1:8000/docs/swagger/
